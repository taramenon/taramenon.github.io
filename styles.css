/* --- 1. Variables & Palette --- */
:root {
    /* DARK MODE: "Midnight on the Backwaters" */
    --bg-color: #030f0f; 
    --text-main: #EAEAEA;
    --text-muted: #8899a0;
    --accent: #D4AF37; /* Gold */
    --line: rgba(255, 255, 255, 0.1);
    --glass: rgba(3, 15, 15, 0.95);
    
    /* --- ASSETS --- */
    
    /* 1. STARS (Dark Mode Only - Subtle Easter Egg) */
    --stars: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400' viewBox='0 0 400 400'%3E%3Cstyle%3E@keyframes twinkle { 0%25, 100%25 { opacity: 0.8; } 50%25 { opacity: 0.3; } }%3C/style%3E%3Ccircle cx='50' cy='50' r='1.5' fill='white' opacity='0.5' style='animation: twinkle 4s infinite'/%3E%3Ccircle cx='150' cy='250' r='1' fill='white' opacity='0.4' style='animation: twinkle 6s infinite'/%3E%3Ccircle cx='300' cy='80' r='1.5' fill='white' opacity='0.6' style='animation: twinkle 5s infinite'/%3E%3Ccircle cx='350' cy='300' r='1' fill='white' opacity='0.3' style='animation: twinkle 7s infinite'/%3E%3Ccircle cx='200' cy='150' r='0.8' fill='white' opacity='0.4'/%3E%3C/svg%3E");

    /* 2. MOUNTAINS (Dark Mode: Darker Green/Black to contrast water) */
    /* Changed fill to #011414 (Deep Black-Green) so it sits BEHIND the water visually */
    --mountains: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 320'%3E%3Cpath fill='%23011414' fill-opacity='1' d='M0,256 L60,240 L120,250 L200,200 L320,240 L450,180 L600,230 L750,200 L900,260 L1050,220 L1200,250 L1350,230 L1440,260 L1440,320 L0,320 Z' /%3E%3Cpath fill='%23021a1a' fill-opacity='0.5' d='M0,288 L80,270 L180,280 L300,250 L450,270 L600,240 L750,260 L900,230 L1050,260 L1200,240 L1350,270 L1440,260 L1440,320 L0,320 Z' /%3E%3C/svg%3E");

    /* 3. BOAT (Your Approved Kettuvallam) */
    --boat: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 100'%3E%3Cdefs%3E%3ClinearGradient id='goldGrad' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23D4AF37' stop-opacity='0.9'/%3E%3Cstop offset='100%25' stop-color='%23996515' stop-opacity='0.4'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg transform='translate(0,35)'%3E%3C!-- Hull --%3E%3Cpath fill='%230a0503' d='M10,45 Q110,60 220,45 L230,25 L220,25 Q110,40 10,25 Z' /%3E%3C!-- Roof --%3E%3Cpath fill='url(%23goldGrad)' d='M30,28 Q120,0 210,28 L210,45 L30,45 Z' /%3E%3C!-- Windows --%3E%3Crect x='70' y='28' width='20' height='15' rx='5' fill='%230a0503' opacity='0.7'/%3E%3Crect x='110' y='25' width='20' height='18' rx='5' fill='%230a0503' opacity='0.7'/%3E%3Crect x='150' y='28' width='20' height='15' rx='5' fill='%230a0503' opacity='0.7'/%3E%3C/g%3E%3C/svg%3E");

    /* 4. WATER (Moving Layer) */
    --water: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 100' preserveAspectRatio='none'%3E%3Cpath fill='%23062626' fill-opacity='0.9' d='M0,40 C240,90 480,-10 720,40 C960,90 1200,-10 1440,40 L1440,100 L0,100 Z' /%3E%3C/svg%3E");

    --font-serif: 'Playfair Display', serif;
    --font-sans: 'Manrope', sans-serif;
}

[data-theme="light"] {
    /* LIGHT MODE: "Red Earth" */
    --bg-color: #F9F6F3;
    --text-main: #9E3C3C;
    --text-muted: #7A6F66;
    --accent: #2C241B; 
    --line: rgba(158, 60, 60, 0.2);
    --glass: rgba(249, 246, 243, 0.98);

    /* Light Mode Assets */
    --stars: none; /* No stars in day mode */
    
    --mountains: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 320'%3E%3C!-- Background Range --%3E%3Cpath fill='%239E3C3C' fill-opacity='0.05' d='M0,200 L150,120 L300,180 L450,100 L600,160 L800,90 L1000,150 L1200,80 L1350,160 L1440,120 L1440,320 L0,320 Z' /%3E%3C!-- Foreground Range --%3E%3Cpath fill='none' stroke='%239E3C3C' stroke-width='1.5' stroke-opacity='0.6' d='M0,250 L80,220 L160,240 L240,180 L320,230 L450,160 L550,220 L700,150 L850,230 L1000,170 L1150,240 L1300,180 L1440,230' /%3E%3C/svg%3E");
    
    --boat: none;
    
    --water: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 100' preserveAspectRatio='none'%3E%3Cpath fill='%239E3C3C' fill-opacity='0.05' d='M0,50 C240,80 480,20 720,50 C960,80 1200,20 1440,50 L1440,100 L0,100 Z' /%3E%3C/svg%3E");
}

* { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }

body {
    background-color: var(--bg-color);
    color: var(--text-main);
    font-family: var(--font-sans);
    transition: background-color 0.5s ease, color 0.5s ease;
    overflow-x: hidden;
    line-height: 1.6;
}

/* --- 2. The Layout Container --- */
.container { 
    max-width: 1400px; 
    margin: 0 auto; 
    padding: 0 6%; /* Healthy padding from edge */
}

h1, h2, h3 { font-family: var(--font-serif); font-weight: 400; color: var(--text-main); }

/* --- 3. The Living Background --- */
.kerala-scene {
    position: fixed;
    bottom: 0; left: 0; width: 100%; height: 60vh;
    z-index: -1;
    pointer-events: none;
    
    /* Layering the SVGs: Top -> Bottom */
    /* Boat -> Water -> Mountains -> Stars */
    background-image: 
        var(--boat),    
        var(--water),   
        var(--mountains),
        var(--stars); 
        
    background-repeat: 
        no-repeat,
        repeat-x,
        no-repeat,
        repeat;
        
    /* POSITIONING */
    background-position: 
        80% calc(100% + 10px),  /* Boat */
        0% 100%,                /* Water */
        center bottom,          /* Mountains */
        0 0;                    /* Stars */
        
    background-size: 
        320px auto, 
        1440px 50%, 
        cover,
        auto;      
        
    animation: flowWater 25s linear infinite;
}

@keyframes flowWater {
    0% { background-position: 80% calc(100% + 10px), 0% 100%, center bottom, 0 0; }
    50% { background-position: 80% calc(100% + 15px), 50% 100%, center bottom, 20px 20px; } 
    100% { background-position: 80% calc(100% + 10px), 100% 100%, center bottom, 40px 40px; }
}

/* --- 4. Navigation --- */
nav {
    display: flex; justify-content: space-between; align-items: center;
    padding-top: 2.5rem; 
    padding-bottom: 2.5rem;
    position: relative; z-index: 100;
}

.logo-text {
    font-family: var(--font-serif);
    font-size: 2.2rem; 
    font-weight: 700;
    letter-spacing: -0.5px;
    color: var(--text-main);
    text-decoration: none;
    white-space: nowrap;
}

.nav-links { display: flex; gap: 3rem; list-style: none; align-items: center; }

.nav-links a {
    text-decoration: none; color: var(--text-main);
    font-size: 0.8rem; text-transform: uppercase; letter-spacing: 2px;
    font-weight: 600; transition: 0.3s;
}
.nav-links a:hover { color: var(--accent); }

.theme-toggle {
    background: transparent; border: 1px solid var(--line);
    color: var(--text-main); width: 40px; height: 40px; border-radius: 50%;
    cursor: pointer; display: flex; align-items: center; justify-content: center;
    transition: 0.3s;
}
.theme-toggle:hover { border-color: var(--accent); color: var(--accent); }

[data-theme="dark"] .sun { display: block; } [data-theme="dark"] .moon { display: none; }
[data-theme="light"] .sun { display: none; } [data-theme="light"] .moon { display: block; }

.hamburger { display: none; cursor: pointer; flex-direction: column; gap: 6px; z-index: 102; }
.bar { width: 30px; height: 2px; background: var(--text-main); transition: 0.3s; }

/* --- 5. Hero Section --- */
.hero { 
    padding-top: 20vh; 
    padding-bottom: 10vh; 
}

.overline { 
    color: var(--accent); letter-spacing: 2px; text-transform: uppercase; 
    font-size: 0.85rem; margin-bottom: 2rem; font-weight: 700; 
}
.accent { color: var(--accent); font-style: italic; }

.hero h1 { font-size: clamp(3rem, 6.5vw, 6rem); line-height: 1.05; margin-bottom: 2.5rem; }
.hero p { max-width: 650px; font-size: 1.25rem; color: var(--text-muted); margin-bottom: 3rem; }

/* Buttons */
.btn-group { display: flex; gap: 1.5rem; align-items: center; margin-top: 3.5rem; }

.btn-primary {
    display: inline-block; padding: 1rem 2.5rem; 
    border: 1px solid var(--text-main);
    color: var(--text-main); text-transform: uppercase; letter-spacing: 2px;
    text-decoration: none; font-size: 0.85rem; transition: 0.4s;
}
.btn-primary:hover { 
    background: var(--text-main); color: var(--bg-color); 
    box-shadow: 4px 4px 0 var(--accent); 
    border-color: var(--text-main);
}

.btn-secondary {
    display: inline-block; padding: 1rem 2rem;
    color: var(--text-muted); text-transform: uppercase; letter-spacing: 2px;
    text-decoration: none; font-size: 0.85rem; transition: 0.3s;
    border-bottom: 1px solid transparent;
}
.btn-secondary:hover { color: var(--accent); border-bottom-color: var(--accent); }

.divider { height: 1px; background: var(--line); margin: 4rem 0; width: 100%; }

/* --- 6. Content Lists --- */
.list-item {
    display: grid; grid-template-columns: 80px 1fr 40px; gap: 2rem;
    padding: 3rem 0; border-bottom: 1px solid var(--line);
    text-decoration: none; color: var(--text-main); align-items: center;
    transition: 0.4s;
}
.list-item:hover { 
    transform: translateX(10px); 
    border-bottom-color: var(--accent);
}

.meta { 
    font-family: var(--font-sans); color: var(--accent); 
    font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; font-weight: 700; 
}
.content h3 { font-size: 1.8rem; margin-bottom: 0.5rem; }
.content p { color: var(--text-muted); font-size: 1.1rem; font-family: var(--font-serif); font-style: italic; }
.arrow { font-size: 1.5rem; color: var(--text-muted); transition: 0.3s; }
.list-item:hover .arrow { color: var(--accent); transform: translateX(5px); }

/* --- 7. Footer --- */
footer { 
    padding-top: 4rem; 
    padding-bottom: 2rem; 
    margin-top: 4rem; border-top: 1px solid var(--line); 
    background: var(--glass); backdrop-filter: blur(5px); 
}
.footer-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; }
.footer-label { color: var(--text-muted); margin-bottom: 1.5rem; text-transform: uppercase; letter-spacing: 1px; font-size: 0.8rem; }
.footer-email { font-size: 1.4rem; font-family: var(--font-serif); color: var(--text-main); text-decoration: none; border-bottom: 1px solid var(--line); padding-bottom: 5px;}
.footer-link { display: block; color: var(--text-muted); text-decoration: none; margin-bottom: 0.8rem; transition: 0.3s; }
.footer-link:hover { color: var(--accent); }
.copyright { margin-top: 5rem; font-size: 0.85rem; color: var(--text-muted); opacity: 0.6; }

/* --- 8. Responsive --- */
@media (max-width: 768px) {
    /* Safe padding for mobile */
    .container { padding: 0 1.5rem; }
    
    .kerala-scene { height: 45vh; background-position: 100% 90%, 0% 100%, center bottom, 0 0; background-size: 200px auto, 1440px 40%, cover, auto; }
    
    .hamburger { display: flex; }
    .nav-links {
        position: fixed; top: 0; right: 0; width: 100%; height: 100vh;
        background: var(--bg-color);
        flex-direction: column; justify-content: center;
        transform: translateX(100%); transition: 0.5s ease;
    }
    .nav-links.active { transform: translateX(0); }
    .nav-links.active ~ .hamburger .bar:nth-child(1) { transform: rotate(45deg) translate(5px, 6px); }
    .nav-links.active ~ .hamburger .bar:nth-child(2) { opacity: 0; }
    .nav-links.active ~ .hamburger .bar:nth-child(3) { transform: rotate(-45deg) translate(5px, -6px); }

    .list-item { grid-template-columns: 1fr; gap: 0.5rem; padding: 2rem 0; }
    .arrow { display: none; }
    .hero { padding-top: 15vh; }
    .btn-group { flex-direction: column; align-items: flex-start; }
    .footer-grid { grid-template-columns: 1fr; gap: 2rem; }
}